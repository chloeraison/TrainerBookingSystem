<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - TrainerBookingSystem.Web</title>

    <!-- ✅ Bootstrap first -->
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />

    <!-- ✅ Your theme overrides and custom styles -->
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/TrainerBookingSystem.Web.styles.css" asp-append-version="true" />
</head>

<body>
    <div class="d-flex flex-column min-vh-100">

        <!-- Header OUTSIDE the content wrapper -->
        <header>
            <nav class="navbar navbar-expand-sm border-bottom box-shadow mb-3"
                style="background: var(--card); color: var(--text); border-color: var(--border); padding: 0.6rem 1rem;">
                <div class="container-fluid d-flex align-items-center justify-content-between">
                    <div class="d-flex align-items-center gap-3">
                        <a class="nav-link text-light fw-bold" asp-page="/Dashboard">Calendar</a>
                        <a class="nav-link text-light fw-bold" asp-page="/Clients">Clients</a>
                        <a class="nav-link text-light fw-bold" asp-page="/Management">Management</a>
                    </div>
                    <div class="top-nav-brand"></div>
                    <button id="themeToggle" class="btn" style="padding: 6px 10px; border-radius: 12px;">
                        <span id="themeIcon">☀️</span>
                    </button>
                </div>
            </nav>
        </header>

        <!-- Everything else -->
        <div class="content-wrapper d-flex flex-column flex-grow-1">
            <main class="container pb-3 flex-grow-1">
                @RenderBody()
            </main>

@*             <footer class="footer text-muted mt-auto"
                style="background: var(--card); padding: 10px 0; border-top: 1px solid var(--border);">
                <div class="container d-flex justify-content-between align-items-center flex-wrap">
                    <div>© 2025 - CoachTibbles</div>
                    <div><a asp-area="" asp-page="/Privacy">Privacy</a></div>
                </div>
            </footer> *@
        </div>

    </div>

    <!-- Scripts -->
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)

    <!-- Theme Script -->
    <script>
        (function () {
            const saved = localStorage.getItem('theme');
            const root = document.documentElement;
            if (saved === 'dark' || saved === 'light') {
                root.setAttribute('data-theme', saved);
                document.getElementById('themeIcon').textContent = saved === 'dark' ? '☀️' : '🌙';
            }

            document.getElementById('themeToggle')?.addEventListener('click', function (e) {
                e.preventDefault();
                const current = root.getAttribute('data-theme');
                const next = current === 'dark' ? 'light' : 'dark';
                root.setAttribute('data-theme', next);
                localStorage.setItem('theme', next);
                document.getElementById('themeIcon').textContent = next === 'dark' ? '☀️' : '🌙';
            });
        })();
    </script>
</body>
